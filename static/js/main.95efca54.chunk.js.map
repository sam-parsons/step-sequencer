{"version":3,"sources":["Components/Box.module.css","Components/Title.module.css","Components/PlayButton.module.css","Components/TimeSignature.module.css","Components/TempoDisplay.module.css","Components/TapTempo.module.css","Components/ResetButton.module.css","Components/PitchSelect.module.css","Components/TempoSlider.module.css","Components/Buttons.module.css","Components/BoxRow.module.css","Components/StepSequence.module.css","Components/Title.js","Components/PlayButton.js","Components/TimeSignature.js","Components/TempoSlider.js","Components/TempoDisplay.js","Components/TapTempo.js","Components/ResetButton.js","Components/Buttons.js","Components/PitchSelect.js","Components/Box.js","Components/BoxRow.js","Components/StepSequence.js","App.js","index.js"],"names":["module","exports","root","box","checked","active","activechecked","info","link","label","length","select","Title","react_default","a","createElement","className","styles","href","PlayButton","props","onClick","onTogglePlay","isPlaying","index_es","icon","TimeSignature","name","id","value","sequenceLength","onChange","e","onLengthChange","target","TempoSlider","type","min","max","tempo","onTempoChange","TempoDisplay","TapTempo","handleTap","ResetButton","onReset","Buttons","Components_PlayButton","Components_TimeSignature","Components_ResetButton","Components_TapTempo","Components_TempoDisplay","Components_TempoSlider","PitchSelect","notes","row","onPitchSelect","Box","_","map","isBoxChecked","i","onToggle","chain","isActive","compact","join","key","BoxRow","Components_PitchSelect","Components_Box","StepSequence","Components_BoxRow","pitchConversion","toggleBox","priorChecked","Object","toConsumableArray","synth","Tone","PolySynth","Synth","toMaster","context","AudioContext","library","add","faPlay","faStop","faRecycle","faInfoCircle","App","state","renderedNotes","partContainer","timeContainer","defaults","elapsedTime","numberOfTaps","averageBPM","componentDidMount","_this","generateMetronome","window","addEventListener","keyCode","preventDefault","console","log","onToggleBox","setState","prior","Transport","loop","loopStart","loopEnd","start","stop","restartPlaying","error","push","bpm","resetTempo","forceStop","shift","currentTime","toFixed","Math","round","slice","time","reduce","b","note","forEach","part","removeAll","_this$state$notes","slicedToArray","note1","note2","seqLength","matrix","concat","velocity","index","Part","triggerVisualize","triggerAttackRelease","fill","Array","Components_Title","Components_Buttons","this","Components_StepSequence","React","PureComponent","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.95efca54.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Box_root__3wb8N\",\"box\":\"Box_box__3XcKJ\",\"checked\":\"Box_checked__FtauF\",\"active\":\"Box_active__FZFXX\",\"activechecked\":\"Box_activechecked__1J_cQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Title_root__2Xc8l\",\"info\":\"Title_info__3DHXa\",\"link\":\"Title_link__34YnD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PlayButton_root__egeke\",\"label\":\"PlayButton_label__1kmG7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TimeSignature_root__3dXFM\",\"length\":\"TimeSignature_length__29E66\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TempoDisplay_root__29aaI\",\"label\":\"TempoDisplay_label__3-ob8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TapTempo_root__1Vk8_\",\"label\":\"TapTempo_label__2XMp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ResetButton_root__3LzA7\",\"label\":\"ResetButton_label__1H7Jl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PitchSelect_root__1NRfw\",\"select\":\"PitchSelect_select__3sHnq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TempoSlider_root__v3S9z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Buttons_root__OkpSj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"BoxRow_root__1SXJu\",\"box\":\"BoxRow_box__BzG48\",\"checked\":\"BoxRow_checked__3Md4w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"StepSequence_root__12hd-\"};","import React from \"react\";\nimport styles from \"./Title.module.css\";\n\nconst Title = () => (\n  <div className={styles.root}>\n    Step Sequencer\n    <div className={styles.info}>\n      Â©2019{\" \"}\n      <a\n        href=\"https://github.com/sam-parsons/react-step-sequencer\"\n        className={styles.link}\n      >\n        Sam Parsons\n      </a>\n    </div>\n  </div>\n);\n\nexport default Title;\n","import React from \"react\";\nimport styles from \"./PlayButton.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst PlayButton = props => (\n  <div className={styles.root} onClick={props.onTogglePlay}>\n    <span className={styles.label}>\n      {props.isPlaying ? (\n        <FontAwesomeIcon icon=\"stop\" />\n      ) : (\n        <FontAwesomeIcon icon=\"play\" />\n      )}\n    </span>\n  </div>\n);\n\nexport default PlayButton;\n","import React from \"react\";\nimport styles from \"./TimeSignature.module.css\";\n\nconst TimeSignature = props => (\n  <div className={styles.root}>\n    <select\n      name=\"length\"\n      id=\"row-length\"\n      className={styles.length}\n      value={props.sequenceLength}\n      onChange={e => {\n        props.onLengthChange(e.target.value);\n      }}\n    >\n      <option value=\"2\">2</option>\n      <option value=\"3\">3</option>\n      <option value=\"4\">4</option>\n      <option value=\"5\">5</option>\n      <option value=\"6\">6</option>\n      <option value=\"7\">7</option>\n      <option value=\"8\">8</option>\n      <option value=\"9\">9</option>\n      <option value=\"10\">10</option>\n      <option value=\"11\">11</option>\n    </select>\n  </div>\n);\n\nexport default TimeSignature;\n","import React from \"react\";\nimport styles from \"./TempoSlider.module.css\";\n\nconst TempoSlider = props => (\n  <div className={styles.root}>\n    <input\n      type=\"range\"\n      min=\"30\"\n      max=\"300\"\n      value={props.tempo}\n      onChange={e => {\n        props.onTempoChange(e.target.value);\n      }}\n    />\n  </div>\n);\n\nexport default TempoSlider;\n","import React from \"react\";\nimport styles from \"./TempoDisplay.module.css\";\n\nconst TempoDisplay = props => (\n  <div className={styles.root}>\n    <span className={styles.label}>{props.tempo}</span>\n  </div>\n);\n\nexport default TempoDisplay;\n","import React from \"react\";\nimport styles from \"./TapTempo.module.css\";\n\nconst TapTempo = props => (\n  <div className={styles.root} onClick={props.handleTap}>\n    <span className={styles.label}>Tap</span>\n  </div>\n);\n\nexport default TapTempo;\n","import React from \"react\";\nimport styles from \"./ResetButton.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst ResetButton = props => (\n  <div className={styles.root} onClick={props.onReset}>\n    <span className={styles.label}>\n      <FontAwesomeIcon icon=\"recycle\" />\n    </span>\n  </div>\n);\n\nexport default ResetButton;\n","import React from \"react\";\nimport PlayButton from \"./PlayButton\";\nimport TimeSignature from \"./TimeSignature\";\nimport TempoSlider from \"./TempoSlider\";\nimport TempoDisplay from \"./TempoDisplay\";\nimport TapTempo from \"./TapTempo\";\nimport ResetButton from \"./ResetButton\";\nimport styles from \"./Buttons.module.css\";\n\nconst Buttons = props => (\n  <div id=\"buttons\" className={styles.root}>\n    <PlayButton isPlaying={props.isPlaying} onTogglePlay={props.onTogglePlay} />\n    <TimeSignature\n      sequenceLength={props.sequenceLength}\n      onLengthChange={props.onLengthChange}\n    />\n    <ResetButton onReset={props.onReset} />\n    <TapTempo handleTap={props.handleTap} />\n    <TempoDisplay tempo={props.tempo} />\n    <TempoSlider tempo={props.tempo} onTempoChange={props.onTempoChange} />\n  </div>\n);\n\nexport default Buttons;\n","import React from \"react\";\nimport styles from \"./PitchSelect.module.css\";\n\nconst PitchSelect = props => (\n  <div className={styles.root}>\n    <select\n      name=\"pitch\"\n      id=\"pitch\"\n      className={styles.select}\n      value={props.notes[props.row]}\n      onChange={e => {\n        props.onPitchSelect(e.target.value, props.row);\n      }}\n    >\n      <option value=\"G5\">G5</option>\n      <option value=\"Gb5\">Gb5</option>\n      <option value=\"F5\">F5</option>\n      <option value=\"E5\">E5</option>\n      <option value=\"Eb5\">Eb5</option>\n      <option value=\"D5\">D5</option>\n      <option value=\"Db5\">Db5</option>\n      <option value=\"C5\">C5</option>\n      <option value=\"B4\">B4</option>\n      <option value=\"Bb4\">Bb4</option>\n      <option value=\"A4\">A4</option>\n      <option value=\"Ab4\">Ab4</option>\n      <option value=\"G4\">G4</option>\n    </select>\n  </div>\n);\n\nexport default PitchSelect;\n","import React from \"react\";\nimport styles from \"./Box.module.css\";\nimport _ from \"lodash\";\n\nconst Box = props => (\n  <div className={styles.root}>\n    {_.map(props.checked[props.row], (isBoxChecked, i) => (\n      <div\n        onClick={() => {\n          props.onToggle(i, props.row);\n        }}\n        className={_.chain([\n          styles.box,\n          isBoxChecked && styles.checked,\n          props.isActive[props.row][i] && !isBoxChecked && styles.active,\n          props.isActive[props.row][i] && isBoxChecked && styles.activechecked\n        ])\n          .compact()\n          .join(\" \")\n          .value()}\n        key={i}\n      />\n    ))}\n  </div>\n);\n\nexport default Box;\n","import React from \"react\";\nimport styles from \"./BoxRow.module.css\";\nimport PitchSelect from \"./PitchSelect\";\nimport Box from \"./Box\";\n\nconst BoxRow = props => (\n  <div className={styles.root}>\n    <PitchSelect\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      row={props.row}\n    />\n    <Box\n      checked={props.checked}\n      row={props.row}\n      isActive={props.isActive}\n      onToggle={props.onToggle}\n    />\n  </div>\n);\n\nexport default BoxRow;\n","import React from \"react\";\nimport BoxRow from \"./BoxRow\";\nimport styles from \"./StepSequence.module.css\";\n\nconst StepSequence = props => (\n  <div id=\"step-sequence\" className={styles.root}>\n    <BoxRow\n      checked={props.checked}\n      onToggle={props.onToggle}\n      sequenceLength={props.sequenceLength}\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      pitchConversion={props.pitchConversion}\n      isActive={props.isActive}\n      row=\"0\"\n    />\n    <BoxRow\n      checked={props.checked}\n      onToggle={props.onToggle}\n      sequenceLength={props.sequenceLength}\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      isActive={props.isActive}\n      row=\"1\"\n    />\n  </div>\n);\n\nexport default StepSequence;\n","import React from \"react\";\nimport Tone from \"tone\";\nimport _ from \"lodash\";\nimport Title from \"./Components/Title\";\nimport Buttons from \"./Components/Buttons\";\nimport StepSequence from \"./Components/StepSequence\";\nimport \"./App.css\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faPlay,\n  faStop,\n  faRecycle,\n  faInfoCircle\n} from \"@fortawesome/free-solid-svg-icons\";\n\n/**\n TODO\n - Okasy now\n - Visualizer - must clear on stop, sometimes gets stuck on highlighted checked square\n - Pitch Selection - prevent same note from being selected twice\n - Eliminate use of layout.css (possibly)\n */\n\nfunction toggleBox(priorChecked, i, row) {\n  const checked = [...priorChecked];\n  checked[row][i] = !checked[row][i];\n  return checked;\n}\n\n// what are correct places for these?\nconst synth = new Tone.PolySynth(2, Tone.Synth).toMaster();\nconst context = new AudioContext();\n\n// fontawesome library setup\nlibrary.add(faPlay);\nlibrary.add(faStop);\nlibrary.add(faRecycle);\nlibrary.add(faInfoCircle);\n\nexport default class App extends React.PureComponent {\n  state = {\n    checked: [\n      [true, true, false, false, false, false, false],\n      [false, false, true, false, true, false, true]\n    ], // sequencer pattern array\n    isPlaying: false,\n    sequenceLength: 7, // length of sequence pattern\n    tempo: 120,\n    isActive: [[0, 0, 0, 1, 0, 1, 0], [0, 1, 0, 1, 0, 1, 0]], // used for highlighting suring visualization\n    renderedNotes: [],\n    partContainer: [], // store Part object for future removal\n    notes: [\"Eb5\", \"C5\"],\n    timeContainer: [], // tap tempo array\n    defaults: {\n      tempo: 120,\n      sequenceLength: 8,\n      isPlaying: false,\n      elapsedTime: 0,\n      numberOfTaps: 0,\n      averageBPM: 0,\n      checked: [\n        [true, false, false, false, false, false, false, false],\n        [false, false, true, false, true, false, true, false]\n      ],\n      notes: [\"Eb5\", \"C5\"],\n      isActive: [[0, 1, 0, 1, 0, 1, 0, 1], [0, 1, 0, 1, 0, 1, 0, 1]]\n    }\n  };\n\n  componentDidMount = () => {\n    this.generateMetronome();\n\n    // event listener for space bar\n    window.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 32 || e.keyCode === 13) {\n        try {\n          e.preventDefault(); // prevents space bar from triggering selected checkboxes\n          this.onTogglePlay();\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    });\n  };\n\n  onToggleBox = (i, row) => {\n    this.setState(\n      prior => ({\n        checked: toggleBox(prior.checked, i, row)\n      }),\n      () => {\n        this.generateMetronome();\n      }\n    );\n  };\n\n  onTogglePlay = () => {\n    this.setState(\n      prior => ({\n        isPlaying: !prior.isPlaying\n      }),\n      () => {\n        if (!this.state.isPlaying) {\n          //stop transport, turn off looping - prevents collision with measure sequence loop\n          Tone.Transport.stop();\n          Tone.Transport.loop = false;\n          Tone.Transport.loopEnd = 0;\n          // isActive array zeroed out\n          this.setState({ isActive: [[], []] }, () => console.log(\"stopped\"));\n        } else {\n          // configure looping for step sequencer\n          Tone.Transport.loop = true;\n          Tone.Transport.loopStart = 0;\n          Tone.Transport.loopEnd =\n            (this.state.sequenceLength * 30) / this.state.tempo;\n          Tone.Transport.start(\"+0.0\");\n          console.log(\"playing\");\n        }\n      }\n    );\n  };\n\n  restartPlaying = () => {\n    if (this.state.isPlaying) {\n      this.setState({ isPlaying: this.state.isPlaying }, () => {\n        Tone.Transport.stop();\n        Tone.Transport.loopStart = 0;\n        Tone.Transport.loopEnd =\n          (this.state.sequenceLength * 30) / this.state.tempo;\n        Tone.Transport.loop = true;\n        Tone.Transport.start(\"+0.0\");\n        console.log(\"playing restarted\");\n      });\n    } else {\n      console.error(\"restartPlaying called while not playing\");\n    }\n  };\n\n  onLengthChange = sequenceLength => {\n    // create a new checked array and push simple everyother note pattern\n    const checked = [[], []];\n    for (let i = 0; i < sequenceLength; i++) {\n      checked[0].push(i === 0);\n      checked[1].push(i !== 0 && i % 2 === 0);\n    }\n    this.setState(\n      () => ({\n        sequenceLength,\n        checked\n      }),\n      () => {\n        Tone.Transport.loopEnd = (sequenceLength * 30) / this.state.tempo;\n        this.generateMetronome();\n      }\n    );\n  };\n\n  onTempoChange = tempo => {\n    this.setState(\n      {\n        tempo\n      },\n      () => {\n        Tone.Transport.bpm.value = tempo;\n      }\n    );\n  };\n\n  onReset = () => {\n    this.setState(\n      prior => ({\n        tempo: prior.defaults.tempo,\n        sequenceLength: prior.defaults.sequenceLength,\n        isPlaying: prior.defaults.isPlaying,\n        checked: prior.defaults.checked,\n        notes: prior.defaults.notes,\n        isActive: prior.defaults.isActive\n      }),\n      () => {\n        this.resetTempo();\n        this.forceStop();\n        this.onLengthChange(this.state.sequenceLength);\n        this.onPitchSelect(this.state.notes[0], 0);\n        this.onPitchSelect(this.state.notes[1], 1);\n      }\n    );\n  };\n\n  forceStop = () => {\n    Tone.Transport.stop();\n    Tone.Transport.loop = false;\n    Tone.Transport.loopEnd = 0;\n    console.log(\"force stopped\");\n  };\n\n  resetTempo = () => {\n    Tone.Transport.bpm.value = this.state.defaults.tempo;\n  };\n\n  handleTap = () => {\n    console.log(\"tap\");\n\n    // timeContainer maintenance - shift and push\n    const timeContainer = this.state.timeContainer;\n    if (timeContainer.length > 2) timeContainer.shift();\n    timeContainer.push(context.currentTime.toFixed(3));\n\n    // calculate tempo\n    const tempo = Math.round(\n      60 /\n        (timeContainer\n          .slice(1)\n          .map((time, i) => time - timeContainer[i])\n          .reduce((a, b) => a + b, 0) /\n          (timeContainer.length - 1))\n    );\n\n    // make sure tempo is within acceptable bounds\n    if (tempo > 40 && tempo < 301)\n      this.setState({ tempo }, () => this.onTempoChange(tempo));\n  };\n\n  onPitchSelect = (note, row) => {\n    this.setState(\n      {\n        notes:\n          row === \"0\" // refactor this conditional\n            ? [note, this.state.notes[1]]\n            : [this.state.notes[0], note]\n      },\n      () => {\n        this.generateMetronome();\n      }\n    );\n  };\n\n  generateMetronome = () => {\n    // erase or stop all previous parts\n    const partContainer = this.state.partContainer;\n    partContainer.forEach(part => part.removeAll());\n\n    // metronome vitals\n    const [note1, note2] = this.state.notes,\n      seqLength = this.state.sequenceLength,\n      matrix = this.state.checked;\n\n    // new renderedNotes array, populate\n    const renderedNotes = [];\n    for (let i = 0; i < seqLength; i++) {\n      if (matrix[0][i]) {\n        renderedNotes.push({\n          note: note1,\n          time: `0:${i / 2}`,\n          velocity: 0.05,\n          index: i\n        });\n      } else if (!matrix[1][i]) {\n        renderedNotes.push({\n          note: note1,\n          time: `0:${i / 2}`,\n          velocity: 0,\n          index: i\n        });\n      }\n      if (matrix[1][i]) {\n        renderedNotes.push({\n          note: note2,\n          time: `0:${i / 2}`,\n          velocity: 0.05,\n          index: i\n        });\n      }\n    }\n\n    // create new Part, start Part, push Part to container\n    const part = new Tone.Part((time, value) => {\n      this.triggerVisualize(value.index);\n      synth.triggerAttackRelease(value.note, 0.05, time, value.velocity);\n    }, renderedNotes).start(0);\n    partContainer.push(part);\n\n    this.setState({\n      renderedNotes,\n      partContainer\n    });\n  };\n\n  triggerVisualize = index => {\n    // generate array of 0's\n    const length = this.state.sequenceLength;\n    const isActive = [_.fill(Array(length), 0), _.fill(Array(length), 0)];\n\n    // set particular index as active\n    isActive[0][index] = 1;\n    isActive[1][index] = 1;\n    this.setState({ isActive });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Title />\n          <Buttons\n            isPlaying={this.state.isPlaying}\n            onTogglePlay={this.onTogglePlay}\n            sequenceLength={this.state.sequenceLength}\n            onLengthChange={this.onLengthChange}\n            tempo={this.state.tempo}\n            onTempoChange={this.onTempoChange}\n            onReset={this.onReset}\n            handleTap={this.handleTap}\n          />\n          <StepSequence\n            checked={this.state.checked}\n            onToggle={this.onToggleBox}\n            sequenceLength={this.state.sequenceLength}\n            onPitchSelect={this.onPitchSelect}\n            notes={this.state.notes}\n            isActive={this.state.isActive}\n          />\n        </header>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}